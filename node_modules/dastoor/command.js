function Command(path) {
    if(!/^[\w\-]+(\.[\w\-]+)*$/g.test(path)) throw 'module path is invalid: ' + path;

    var p = path.split('.');
    var name = p[p.length - 1];
    var parentPath = p.splice(0, p.length - 1).join('.');

    this.parentPath = parentPath;
    this.name = name;
    this.path = (parentPath ? parentPath + '.' : '') + name;
    this.helpDetails = {};
    this.commands = [];
    this.terminal = false;
    this.controller = false;
}

Command.prototype._getChild = function (name) {
    return this.commands.filter(function (c) {
        return c.name === name;
    })[0];
};

Command.prototype.help = function (i) {
    var options = typeof i === 'string' ?
                  { description: i } :
                  i;

    this.helpDetails = options;
    return this;
};

Command.prototype.controller = function (controller) {
    this.controller = controller;
    return this;
};

module.exports = Command;
